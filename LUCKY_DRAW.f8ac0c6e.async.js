(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[46],{"4es7":function(e,t,n){"use strict";n.r(t);var a=n("oBTY"),o=(n("OaEy"),n("2fM7")),c=n("k1fw"),l=n("jrin"),r=n("fWQN"),u=n("mtLc"),i=n("yKVA"),m=n("879j"),b=n("q1tI"),s=n.n(b),g=n("+YFz"),d=n("LvDl"),h=n("b7Zg"),p=n("8dFQ"),f=n("+8FR"),y=n("JcTt"),k=n("eLKO"),v=n("w7Kl"),E=n("2/y8"),C=n("gPk9"),j=n("Emgl"),O=n("Ix2a"),w=n("gyP4"),x=n("860M"),_=n("JWEx"),K=function(e){var t=e.value,n=e.onChange,a=Object(b["useCallback"])((function(e){n({config:{options:{condition:e}}})}),[n]);return s.a.createElement(_["a"],{value:t,onChange:a})},z=K,F=f["a"].Item,M=function(e){Object(i["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;Object(r["a"])(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),e.onKeyChange=function(t,n){e.props.onChange({config:{options:Object(l["a"])({},t,n)}})},e}return Object(u["a"])(n,[{key:"render",value:function(){var e=this,t=this.props.value,n=t.config.options,l=n.global,r=n.buttons,u=n.prizes,i=n.blocks,m=n.condition;return s.a.createElement(h["b"],{items:[{label:s.a.createElement(h["a"],null,"\u5168\u5c40\u6837\u5f0f"),children:s.a.createElement(f["a"],{level:1},s.a.createElement(F,{label:"\u80cc\u666f\u8272"},s.a.createElement(k["a"],null,s.a.createElement(p["a"],{value:l.style.background,onChange:function(t){e.onKeyChange("global",{style:{background:t}})}}))),s.a.createElement(F,{label:"\u65cb\u8f6c\u901f\u5ea6",placeholder:s.a.createElement(j["a"],{title:"\u5efa\u8bae\u914d\u7f6e\u8303\u56f4 10 ~ 30"},s.a.createElement(g["a"],null))},s.a.createElement(k["a"],null,s.a.createElement(C["a"],{value:l.config.speed,onChange:function(t){e.onKeyChange("global",{config:{speed:t}})}}))),s.a.createElement(F,{label:"\u62bd\u5956\u65f6\u95f4"},s.a.createElement(k["a"],null,s.a.createElement(C["a"],{value:l.config.stop,onChange:function(t){e.onKeyChange("global",{config:{stop:t}})}}))),s.a.createElement(y["a"],{child:{header:"\u6587\u672c",key:"textStyle"}},s.a.createElement(v["a"],{value:l.style,onChange:function(t){e.onKeyChange("global",{style:Object(c["a"])({},t)})}}))),key:"1"},{label:s.a.createElement(h["a"],null,"\u6309\u94ae"),children:s.a.createElement(f["a"],{level:1},s.a.createElement(F,{label:"\u7c7b\u578b"},s.a.createElement(k["a"],null,s.a.createElement(o["a"],{className:"w-100",value:r.type,onChange:function(t){e.onKeyChange("buttons",{type:t})},options:[{label:"\u6837\u5f0f\u4e00",value:"custom_1"},{label:"\u6837\u5f0f\u4e8c",value:"custom_2"}]}))),s.a.createElement(F,{label:"\u989c\u8272"},s.a.createElement(k["a"],null,s.a.createElement(p["a"],{value:r.color,onChange:function(t){e.onKeyChange("buttons",{color:t})}}))),s.a.createElement(F,{label:"\u6587\u6848"},s.a.createElement(k["a"],null,s.a.createElement(O["a"],{value:r.content,onChange:function(t){e.onKeyChange("buttons",{content:t})}}))),s.a.createElement(y["a"],{child:{header:"\u6587\u672c",key:"textStyle"}},s.a.createElement(v["a"],{value:r.textStyle,onChange:function(t){e.onKeyChange("buttons",{textStyle:Object(c["a"])({},t)})}}))),key:"2"},{label:s.a.createElement(h["a"],null,"\u80cc\u666f"),children:s.a.createElement(f["a"],{level:1},s.a.createElement(F,{label:"\u7c7b\u578b"},s.a.createElement(k["a"],null,s.a.createElement(o["a"],{className:"w-100",value:i.type,onChange:function(t){e.onKeyChange("blocks",{type:t})},options:[{label:"\u6837\u5f0f\u4e00",value:"custom_1"},{label:"\u6837\u5f0f\u4e8c",value:"custom_2"}]})))),key:"3"},{label:s.a.createElement(h["a"],null,"\u5956\u54c1"),children:s.a.createElement(f["a"],{level:1},s.a.createElement(E["a"],{onAdd:function(){var t={background:x["d"].generateNextColor4CurrentTheme(u.config.length)},n=[].concat(Object(a["a"])(u.config),[t]);e.onKeyChange("prizes",{config:n})},onRemove:function(t){var n=Object(a["a"])(u.config);n.splice(t,1),e.onKeyChange("prizes",{config:n})},counter:u.config.length,max:w["a"].getChartSeriesCounter("LUCKY_DRAW"),renderContent:function(t){var n=u.config[t].background;return s.a.createElement(s.a.Fragment,null,s.a.createElement(F,{label:"\u80cc\u666f\u8272"},s.a.createElement(k["a"],null,s.a.createElement(p["a"],{value:n,onChange:function(n){var o=Object(a["a"])(u.config);o.splice(t,1,Object(d["merge"])(o[t],{background:n})),e.onKeyChange("prizes",{config:o})}}))))},buttonLabel:"\u65b0\u589e\u5956\u54c1",seriesLabel:function(e){return"\u5956\u54c1".concat(e+1)}})),key:"4"},{label:s.a.createElement(h["a"],null,"\u6761\u4ef6"),children:s.a.createElement(f["a"],{level:1},s.a.createElement(z,{value:m,onChange:this.onKeyChange.bind(null,"condition")})),key:"5"}]})}}]),n}(b["Component"]);t["default"]=M},Fx4V:function(e,t,n){e.exports={"component-other-lucky-draw":"component-other-lucky-draw___1Kj5c","component-other-lucky-draw-main":"component-other-lucky-draw-main___3jAzo","component-other-lucky-draw-button-common":"component-other-lucky-draw-button-common___2dzrp","component-other-lucky-draw-button-1":"component-other-lucky-draw-button-1___1hfrf","component-other-lucky-draw-button-2":"component-other-lucky-draw-button-2___1FTXg"}},v3xH:function(e,t,n){"use strict";n.r(t);var a=n("qLMh"),o=n("9og8"),c=n("k1fw"),l=n("q1tI"),r=n.n(l),u=n("LvDl"),i=n("TSYQ"),m=n.n(i),b=n("/MKj"),s=n("y/gV"),g=n("CQem"),d=n("edX5"),h=n("8dFQ"),p=n("6Itl"),f=n("UKJj"),y=n("860M"),k=n("Fx4V"),v=n.n(k),E=y["d"].themeNameList,C=y["d"].getThemeColorList(E[0]),j=y["d"].getThemeColorList(E[1]),O=function(e){var t=e.children,n=e.onClick,a=e.size,o=e.style,u=e.color,i=Object(l["useMemo"])((function(){return.2*a}),[a]);return r.a.createElement("div",{className:m()(v.a["component-other-lucky-draw-button-common"],v.a["component-other-lucky-draw-button-1"]),style:Object(c["a"])(Object(c["a"])({},o),{},{width:i,height:i,"--component-other-lucky-draw-button-color":u,"--component-other-lucky-draw-button-size":.2*i+"px"}),onClick:n},t)},w=function(e){var t=e.children,n=e.onClick,a=e.size,o=e.style,u=e.color,i=Object(l["useMemo"])((function(){return.2*a}),[a]);return r.a.createElement("div",{className:m()(v.a["component-other-lucky-draw-button-common"],v.a["component-other-lucky-draw-button-2"]),style:Object(c["a"])(Object(c["a"])({},o),{},{width:i,height:i,"--component-other-lucky-draw-button-color":u,"--component-other-lucky-draw-button-size":.2*i+"px"}),onClick:n},t)},x={custom_1:O,custom_2:w},_={custom_1:{value:[{padding:"12px",background:C[0]},{padding:"6px",background:C[1]},{background:C[2]}]},custom_2:{value:[{padding:"12px",background:j[0]},{padding:"6px",background:j[1]},{background:C[2]}]}},K=18,z=h["b"].getRgbaString,F=function(e){var t=e.className,n=e.style,i=e.value,b=e.global,h=e.children,y=e.wrapper,k=e.componentBorder,E=k.width,C=k.padding,j=b.screenType,O=i.id,w=i.config,F=w.options,M=w.style,S=M.border,L=M.width,N=M.height,T=F.condition,R=F.global,I=R.style,V=R.config,q=F.buttons,A=F.prizes,D=F.blocks,J=V.stop,Q=V.speed,W=Object(l["useRef"])(Object(u["uniqueId"])(f["a"])),B=Object(l["useRef"])(null),Y=Object(l["useRef"])(),U=Object(l["useRef"])(!1),P=Object(g["f"])({component:i,global:b},B),X=P.request,G=P.syncInteractiveAction,H=P.linkageMethod,Z=P.getValue,$=P.requestUrl,ee=P.componentFilter,te=P.value,ne=void 0===te?[]:te,ae=P.componentFilterMap,oe=P.onCondition,ce=Object(g["h"])(".".concat(W.current),{width:L,height:N},[L,N,E,C]),le=Object(l["useMemo"])((function(){return Math.min(ce.width,ce.height)}),[ce]),re=Object(g["i"])(oe,j),ue=re.onCondition,ie=re.style,me=re.className,be=Object(l["useMemo"])((function(){return p["c"].getFieldMapValue(ne,{map:ae})}),[ne,ae]),se=Object(l["useMemo"])((function(){return m()(t,v.a["component-other-lucky-draw"],me)}),[t,me]),ge=Object(l["useMemo"])((function(){var e=100/be.length,t=A.config,n=le/2-K,a=.4*n,o=.4*n,l=t.length;return be.map((function(n,r){var i=n.img,m=n.title,b=n.range,s=r%l,g=t[s].background;return{range:b||e,background:z(g),fonts:[Object(c["a"])(Object(c["a"])({text:m,top:"45%"},Object(u["omit"])(I,["background"])),{},{fontStyle:I.fontFamily,fontColor:z(I.color)})],imgs:i?[{src:i,width:a,height:o,top:"5%"}]:[]}}))}),[be,A,I,le]),de=Object(l["useCallback"])((function(){H("click",{})}),[H]),he=Object(l["useCallback"])((function(){var e,t;U.current||(null===(e=Y.current)||void 0===e||null===(t=e.play)||void 0===t||t.call(e),setTimeout((function(){var e,t;null===(e=Y.current)||void 0===e||null===(t=e.stop)||void 0===t||t.call(e)}),J))}),[J]),pe=Object(l["useCallback"])((function(){U.current=!0,G("click",{})}),[G]),fe=Object(l["useCallback"])(function(){var e=Object(o["a"])(Object(a["a"])().mark((function e(t){var n,o,c;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:U.current=!1,n=t.fonts,o=t.imgs,c=t.range,G("end",{title:Object(u["get"])(n,"0.text"),img:Object(u["get"])(o,"0.src"),range:c});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[G]),ye=x[q.type];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:se,style:Object(u["merge"])(n,ie),id:W.current,onClick:de},r.a.createElement(y,{border:S},h,r.a.createElement("div",{className:m()(W.current,"w-100 h-100 pos-ab",v.a["component-other-lucky-draw-main"])},r.a.createElement(s["a"],{width:le,height:le,ref:Y,defaultStyle:{wordWrap:!0,lineClamp:1/0,background:z(I.background)},defaultConfig:{speed:Q},prizes:ge,blocks:_[D.type].value,onEnd:fe,onStart:pe}),!!ye&&r.a.createElement(ye,{size:le,onClick:he,color:z(q.color),style:Object(c["a"])(Object(c["a"])({},Object(u["pick"])(q.textStyle,["fontWeight","fontFamily"])),{},{fontSize:q.textStyle.fontSize+"px",color:z(q.textStyle.color)})},q.content)))),r.a.createElement(d["a"],{id:O,url:$,ref:B,reFetchData:X,reGetValue:Z,reCondition:ue,componentFilter:ee,componentCondition:T}))},M=F;M.id=f["a"];t["default"]=Object(b["c"])((function(e){return{componentBorder:Object(u["get"])(e,"global.screenData.config.attr.componentBorder")}}),(function(){return{}}))(M)}}]);