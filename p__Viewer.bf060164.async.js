(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[98],{QLB0:function(e,t,a){e.exports={"page-preview-pc":"page-preview-pc___1JC2S","page-preview-h5":"page-preview-h5___1NG1C","page-preview-h5-wrapper":"page-preview-h5-wrapper___2kRaV"}},"hq/+":function(e,t,a){e.exports={"designer-water-mark":"designer-water-mark___16Cvh"}},nLdk:function(e,t,a){"use strict";a.r(t);var n=a("PpiC"),r=a("q1tI"),c=a.n(r),i=a("/MKj"),o=a("X8Db"),l=a("C2ns"),s=a("tJVT"),f=a("TSYQ"),u=a.n(f),h=a("kMsK"),p=a("0lfv"),g=function(e){var t=e.containerWidth,a=e.containerHeight,n=e.setScale,c=e.flag,i=void 0===c?"PC":c,o=e.scale,l=Object(r["useState"])({width:1920,height:1080}),f=Object(s["a"])(l,2),u=f[0],h=u.width,g=u.height,d=f[1],w=function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;d({width:e,height:t})},v=Object(r["useMemo"])((function(){var e=h/t,n=g/a;if("H5"===i)return[e,e];switch(o){case"full":return[e,n];case"fit-width":return[e,e];case"fit-height":return[n,n];case"fit-height-scroll":return[n,n];case"none":default:return[1,1]}}),[h,g,t,a,i,o]),m=Object(s["a"])(v,2),b=m[0],y=m[1];return Object(r["useEffect"])((function(){return Object(p["i"])(1e3).then(w),window.addEventListener("resize",w),function(){window.removeEventListener("resize",w)}}),[]),Object(r["useEffect"])((function(){n(100*b)}),[b,n]),[b,y]},d=g,w=a("QLB0"),v=a.n(w),m=function(e){var t=e.containerWidth,a=e.containerHeight,n=e.setScale,c=e.flag,i=void 0===c?"PC":c,o=e.scale,l=d({containerWidth:t,containerHeight:a,setScale:n,flag:i,scale:o}),f=Object(s["a"])(l,2),p=f[0],g=f[1];return Object(r["useEffect"])((function(){var e=document.querySelector("html"),n=document.body,r=document.querySelector("#root"),c="";if(e)switch(o){case"full":case"fit-width":case"fit-height":case"none":e.style.overflow="hidden visible";break;case"fit-height-scroll":e.style.overflow="visible hidden";break}switch(o){case"full":c+="transform: scale(".concat(p,", ").concat(g,");");break;case"fit-width":c+="transform: scale(".concat(p,") translateY(-50%);position: relative;top:50%;");break;case"fit-height":c+="transform: scale(".concat(p,") translateX(-50%);position: relative;left:50%;");break;case"none":break;case"fit-height-scroll":c+="transform: scale(".concat(p,") translateX(-50%);position: relative;left:50%;");break}c+="transform-origin: left top;width: ".concat(t,"px; height: ").concat(a,"px"),n.style.cssText=c,r&&(r.style.overflow="visible")}),[i,p,g,o,t,a]),Object(h["a"])((function(){var e=document.querySelector("html"),t=document.body,a=document.querySelector("#root");e&&(e.style.overflow=""),t.style.cssText="transform: '';width: '';height: '';position:'';left:'';top:'';",a&&(a.style.overflow="")})),"H5"===i?{className:u()(v.a["page-preview-h5"],"page-preview-container"),style:{transform:"scale(".concat(p,") translateX(0)"),minHeight:"calc( 100vh / ".concat(p," )")},scale:p}:{className:u()(v.a["page-preview-pc"],"page-preview-container"),style:{transform:"scale(1)"},scale:p}},b=m,y=(a("R9oj"),a("ECub")),j=a("jfjY"),k=a.n(j),E=a("OnNq"),S=k()();function O(e){var t=e.flag,a=e.children,n=e.scale,r=Object(E["a"])((function(){return document.querySelector(".page-preview-container")}))||{},i=r.height,o=void 0===i?0:i;return S&&"PC"===t?c.a.createElement(y["a"],{description:"\u8bf7\u5728\u7535\u8111\u7aef\u4f7f\u7528",style:{position:"relative",top:"50%",transform:"translateY(-50%)"}}):S||"H5"!==t?"H5"===t?c.a.createElement("div",{className:u()("w-100 h-100 zero-scrollbar",v.a["page-preview-h5-wrapper"])},c.a.createElement("div",{className:"w-100",style:{height:o*n,overflow:"hidden"}},a)):c.a.createElement(c.a.Fragment,null,a):c.a.createElement(y["a"],{description:"\u8bf7\u5728\u624b\u673a\u7aef\u4f7f\u7528",style:{position:"relative",top:"50%",transform:"translateY(-50%)"}})}var _=Object(i["c"])((function(e){return{flag:e.global.screenData.config.flag.type}}),(function(){return{}}))(O),H=function(e){return{waterMark:e.global.screenData.config.attr.waterMark}},q=function(e){return{}},C=a("hq/+"),D=a.n(C),N=function(e){var t=e.waterMark;return c.a.createElement("div",{className:D.a["designer-water-mark"],style:{display:t?"block":"none"}})},T=Object(i["c"])(H,q)(N),x=function(e){return{width:e.global.screenData.config.style.width,height:e.global.screenData.config.style.height,flag:e.global.screenData.config.flag.type,scale:e.global.screenData.config.attr.scale}},M=function(e){return{setScreenType:function(t){return e({type:"global/setScreenType",value:t})},setScale:function(t){return e({type:"global/setScale",value:t})}}},L=["scale"];function W(e){var t=e.setScreenType,a=e.width,i=e.height,s=e.setScale,f=e.flag,u=e.scale,h=b({containerWidth:a,containerHeight:i,setScale:s,flag:f,scale:u}),p=h.scale,g=Object(n["a"])(h,L);return Object(r["useEffect"])((function(){t("preview")}),[t]),c.a.createElement(_,{scale:p},c.a.createElement(l["a"],g),c.a.createElement(o["a"],null),c.a.createElement(T,null))}t["default"]=Object(i["c"])(x,M)(W)}}]);