(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[38],{"+fEv":function(e,a,t){"use strict";t.r(a);var n=t("PpiC"),r=t("q1tI"),l=t.n(r),c=t("LvDl"),o=t("TSYQ"),i=t.n(o),u=t("NEHW"),s=t("CQem"),m=t("edX5"),f=t("6Itl"),v=t("DhgR"),b=t("l9OF"),g=t("ULNy"),d=t("cw4m"),p=t.n(d),h=["id"],E=function(e){var a=e.className,t=e.style,o=e.value,d=e.global,E=e.children,O=e.wrapper,y=o.id,j=o.config,w=j.options,C=w.scrolling,k=w.scale,N=w.pointEvent,F=w.relationParams,P=j.style.border,K=Object(r["useRef"])(Object(c["uniqueId"])(g["a"])),L=Object(r["useRef"])(null),S=Object(r["useRef"])(!1),I=Object(s["f"])({component:o,global:d},L),M=I.request,R=I.getValue,q=I.requestUrl,A=I.componentFilter,D=I.value,J=void 0===D?[]:D,B=I.componentFilterMap,Q=I.syncInteractiveAction,V=Object(r["useMemo"])((function(){return f["c"].getFieldMapValue(J,{map:B})}),[J,B]),U=function(e){try{return new URL(e).origin}catch(a){return""}},_=Object(r["useCallback"])((function(){S.current=!0,G(V.value)}),[V]),x=Object(r["useCallback"])((function(e,a){if(V.value){var t=window.frames[K.current],n=U(V.value);n&&t.postMessage(JSON.stringify({value:[{key:e.variable,value:a}],id:K.current}),n)}}),[V]),G=function(e){if(e&&S.current){var a=Object(v["g"])(),t=Object(c["get"])(a,"screenData.config.attr.params")||[],n=Object(c["get"])(a,"screenData.config.attr.constants")||[],r=window.frames[K.current],l=U(V.value);if(l){var o=b["a"].getAllGlobalParams4Array(t,n),i=F.map((function(e){var a=o.find((function(a){return a.id===e}));return a?{key:a.key,value:a.value}:null})).filter(Boolean);r.postMessage(JSON.stringify({id:K.current,value:i}),l)}}},W=function(e){try{var a=e.data,t=e.origin;if(!V.value)return;var r=JSON.parse(a),l=r.id,c=Object(n["a"])(r,h);if(l!==K.current)return;if(U(V.value)!==U(t))return;Q("message",c)}catch(o){}};return Object(u["a"])((function(){G(V.value)}),[V.value]),Object(r["useEffect"])((function(){return window.addEventListener("message",W),function(){window.removeEventListener("message",W)}}),[V.value]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:i()(a,p.a["component-other-iframe"]),style:Object(c["merge"])({width:"100%",height:"100%"},t),id:K.current},l.a.createElement("div",{className:"w-100 h-100",style:Object(c["merge"])({transform:"scale(".concat(k,")")},N?{}:{pointerEvents:"none"})},l.a.createElement(O,{border:P},E,l.a.createElement("iframe",{src:V.value,name:K.current,width:"100%",height:"100%",frameBorder:"0",scrolling:C,onLoad:_,style:N?{}:{pointerEvents:"none"}})))),l.a.createElement(m["a"],{id:y,url:q,ref:L,reFetchData:M,reGetValue:R,reParams:x,componentFilter:A,componentParams:F}))},O=E;O.id=g["a"],a["default"]=O},XQSx:function(e,a,t){"use strict";t.r(a);t("OaEy");var n=t("2fM7"),r=(t("BoS7"),t("Sdc0")),l=t("jrin"),c=t("fWQN"),o=t("mtLc"),i=t("yKVA"),u=t("879j"),s=t("q1tI"),m=t.n(s),f=t("b7Zg"),v=t("gPk9"),b=t("+8FR"),g=t("eLKO"),d=t("K1vP"),p=t("4OBZ"),h=b["a"].Item,E=function(e){Object(i["a"])(t,e);var a=Object(u["a"])(t);function t(){var e;Object(c["a"])(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=a.call.apply(a,[this].concat(r)),e.onKeyChange=function(a,t){e.props.onChange({config:{options:Object(l["a"])({},a,t)}})},e}return Object(o["a"])(t,[{key:"render",value:function(){var e=this.props.value,a=e.config.options,t=a.scale,l=a.scrolling,c=a.pointEvent,o=a.relationParams;return m.a.createElement(f["b"],{items:[{label:m.a.createElement(f["a"],null,"\u5168\u5c40\u914d\u7f6e"),children:m.a.createElement(b["a"],{level:1},m.a.createElement(h,{label:"\u70b9\u51fb\u4e8b\u4ef6"},m.a.createElement(g["a"],null,m.a.createElement(r["a"],{checked:c,onChange:this.onKeyChange.bind(this,"pointEvent")}))),m.a.createElement(h,{label:"\u5173\u8054\u53c2\u6570",placeholder:m.a.createElement(p["b"],null)},m.a.createElement(g["a"],null,m.a.createElement(d["b"],{value:o,onChange:this.onKeyChange.bind(this,"relationParams")}))),m.a.createElement(h,{label:"\u6eda\u52a8\u6761"},m.a.createElement(g["a"],null,m.a.createElement(n["a"],{className:"w-100",value:l,onChange:this.onKeyChange.bind(this,"scrolling"),options:[{label:"\u81ea\u52a8",value:"auto"},{label:"\u663e\u793a",value:"yes"},{label:"\u9690\u85cf",value:"no"}]}))),m.a.createElement(h,{label:"\u653e\u5927"},m.a.createElement(g["a"],null,m.a.createElement(v["a"],{value:t,onChange:this.onKeyChange.bind(this,"scale")})))),key:"1"}]})}}]),t}(s["Component"]);a["default"]=E},cw4m:function(e,a,t){e.exports={"component-other-iframe":"component-other-iframe___17Fs4"}}}]);