(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[94],{"3+ya":function(e,t,n){"use strict";n.r(t);var a=n("k1fw"),r=n("oBTY"),c=(n("BoS7"),n("Sdc0")),l=(n("OaEy"),n("2fM7")),o=n("tJVT"),i=n("jrin"),u=n("fWQN"),s=n("mtLc"),m=n("yKVA"),b=n("879j"),h=(n("Znn+"),n("ZTPi")),f=n("q1tI"),p=n.n(f),d=n("LvDl"),v=n("+YFz"),g=n("b7Zg"),j=n("Emgl"),O=n("+8FR"),w=n("eLKO"),E=n("w7Kl"),y=n("8dFQ"),C=n("2/y8"),k=n("JcTt"),M=n("7keo"),x=n("+NTE"),S=n("tveI"),F=(h["a"].TabPane,O["a"].Item),I=function(e){Object(m["a"])(n,e);var t=Object(b["a"])(n);function n(){var e;Object(u["a"])(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),e.onKeyChange=function(t,n){e.props.onChange({config:{options:Object(i["a"])({},t,n)}})},e}return Object(s["a"])(n,[{key:"render",value:function(){var e=this,t=this.props.value,n=t.config.options,i=n.show,u=n.textStyle,s=n.widMap,m=n.align;return p.a.createElement(g["b"],{items:[{label:p.a.createElement(g["a"],null,"\u6837\u5f0f"),children:p.a.createElement(O["a"],{level:1},p.a.createElement(F,{label:"\u663e\u793a\u5185\u5bb9",placeholder:p.a.createElement(j["a"],{title:"\u9009\u62e9\u987a\u5e8f\u5f71\u54cd\u663e\u793a\u987a\u5e8f"},p.a.createElement(v["a"],null))},p.a.createElement(w["a"],null,p.a.createElement(l["a"],{className:"w-100",value:i,mode:"multiple",onChange:this.onKeyChange.bind(this,"show"),options:Object.entries(S["a"]).map((function(e){var t=Object(o["a"])(e,2),n=t[0],a=t[1];return{label:a,value:n}}))}))),p.a.createElement(k["a"],{child:{header:"\u6587\u5b57\u6837\u5f0f",key:"textStyle"}},p.a.createElement(E["a"],{value:u,onChange:this.onKeyChange.bind(this,"textStyle")})),p.a.createElement(M["a"],{value:m,onChange:this.onKeyChange.bind(this,"align")}),p.a.createElement(F,{label:"\u5929\u6c14\u56fe\u6807"},p.a.createElement(w["a"],null,p.a.createElement(c["a"],{checked:s.show,onChange:function(t){e.props.onChange({config:{options:{widMap:{show:t}}}})}}))),s.show&&p.a.createElement(C["a"],{disabledCal:!0,onAdd:function(){},onRemove:function(e){},counter:s.value.length,max:s.value.length,renderContent:function(t){var n=s.value[t],c=n.icon,l=n.color;return p.a.createElement(p.a.Fragment,null,p.a.createElement(F,{label:"\u989c\u8272"},p.a.createElement(w["a"],null,p.a.createElement(y["a"],{value:l,onChange:function(n){var c=Object(r["a"])(s.value);c.splice(t,1,Object(d["merge"])(c[t],{backgroundColor:n})),e.onKeyChange("widMap",Object(a["a"])(Object(a["a"])({},s),{},{value:c}))}}))),p.a.createElement(x["a"],{value:c,onChange:function(n){var c=Object(r["a"])(s.value);c.splice(t,1,Object(d["merge"])(c[t],{icon:n})),e.onKeyChange("widMap",Object(a["a"])(Object(a["a"])({},s),{},{value:c}))}}))},seriesLabel:function(e){return s.value[e].weather||"\u5929\u6c14"}})),key:"1"}]})}}]),n}(f["Component"]);t["default"]=I},v6P2:function(e,t,n){e.exports={"component-other-weather":"component-other-weather___2mfdO"}},zAig:function(e,t,n){"use strict";n.r(t);n("DYRE");var a=n("zeV3"),r=n("k1fw"),c=n("qLMh"),l=n("9og8"),o=n("tJVT"),i=n("q1tI"),u=n.n(i),s=n("LvDl"),m=n("TSYQ"),b=n.n(m),h=n("wd/R"),f=n.n(h),p=n("CQem"),d=n("edX5"),v=n("8dFQ"),g=n("6Itl"),j=n("CLrh"),O=n("860M"),w=n("ts5p"),E=n("v6P2"),y=n.n(E),C=v["b"].getRgbaString,k={temperature:function(e){return"".concat(e,"\u2103")}},M=function(e){var t=Object(i["useState"])(),n=Object(o["a"])(t,2),m=n[0],h=n[1],v=e.className,E=e.style,M=e.value,x=e.global,S=e.children,F=e.wrapper,I=M.id,K=M.config,R=K.options,T=K.style.border,N=R.show,L=R.textStyle,V=R.widMap,q=R.align,z=Object(i["useRef"])(Object(s["uniqueId"])(w["a"])),D=Object(i["useRef"])(null),J=Object(i["useRef"])(),Q=Object(i["useRef"])(),A=Object(p["f"])({component:M,global:x},D),P=A.request,Y=A.getValue,Z=A.linkageMethod,_=A.requestUrl,B=A.componentFilter,G=A.value,U=void 0===G?[]:G,W=A.componentFilterMap,X=Object(i["useMemo"])((function(){var e;return null===(e=g["c"].getFieldMapValue(U,{map:W}))||void 0===e?void 0:e.city}),[U,W]),H=function(){var e=Object(l["a"])(Object(c["a"])().mark((function e(){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(X){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",Object(j["l"])({city:X}).then((function(e){h(e)})).catch((function(e){console.error(e)})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=Object(i["useMemo"])((function(){return b()("w-100","h-100",v,y.a["component-other-weather"])}),[v]),ee=Object(i["useMemo"])((function(){return Object(s["merge"])(E,Object(r["a"])(Object(r["a"])({},L),{},{color:C(L.color),display:"flex",alignItems:q.vertical,justifyContent:q.horizontal}))}),[E,L,q]),te=Object(i["useMemo"])((function(){return u.a.createElement("div",{className:y.a["component-other-weather-content"]},u.a.createElement(a["b"],null,N.map((function(e){var t,n=null===m||void 0===m||null===(t=m.realtime)||void 0===t?void 0:t[e];if("info"===e){var a=V.value.find((function(e){return e.wid==(null===m||void 0===m?void 0:m.realtime.wid)}));return u.a.createElement("span",{key:e},V.show&&!(null===a||void 0===a||!a.icon)&&u.a.createElement("span",{className:b()("bi",a.icon),style:Object(r["a"])(Object(r["a"])({},L),{},{fontSize:L.fontSize+"px",color:C(a.color||O["d"].generateNextColor4CurrentTheme(0))})})," ",n)}return u.a.createElement("span",{key:e},k[e]?k[e](n):n)}))))}),[N,m,V,L]),ne=function(){Z("click",{})};return Object(i["useEffect"])((function(){return clearInterval(J.current),H(),J.current=setInterval(Object(l["a"])(Object(c["a"])().mark((function e(){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!f()(Date.now()).isSame(Q.current||0,"day")){e.next=3;break}return e.next=3,H();case 3:case"end":return e.stop()}}),e)}))),36e5),function(){clearInterval(J.current)}}),[X]),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:$,style:ee,id:z.current,onClick:ne},u.a.createElement(F,{border:T},S,te)),u.a.createElement(d["a"],{id:I,url:_,ref:D,reFetchData:P,reGetValue:Y,reCondition:s["noop"],componentFilter:B,componentCondition:{value:[],initialState:"visible"}}))},x=M;x.id=w["a"],t["default"]=x}}]);