(self["webpackChunkcreate_chart"]=self["webpackChunkcreate_chart"]||[]).push([[4166],{59785:function(e){e.exports={"component-other-weather":"component-other-weather___2mfdO"}},83789:function(e,n,t){"use strict";t.r(n);t(49111);var r=t(19650),o=t(11849),i=t(39428),a=t(3182),l=t(2824),c=t(67294),u=t(96486),s=t(94184),h=t.n(s),d=t(30381),p=t.n(d),f=t(94610),v=t(69421),x=t(83488),m=t(9101),Z=t(15494),g=t(8144),w=t(70129),j=t(59785),C=t.n(j),b=t(85893),y=x.Z.getRgbaString,k={temperature:function(e){return"".concat(e,"\u2103")}},M=function(e){var n=(0,c.useState)(),t=(0,l.Z)(n,2),s=t[0],d=t[1],x=e.className,j=e.style,M=e.value,S=e.global,F=e.children,I=e.wrapper,K=M.id,N=M.config,q=N.options,R=N.style.border,_=q.show,z=q.textStyle,D=q.widMap,O=q.align,P=(0,c.useRef)((0,u.uniqueId)(w.q)),V=(0,c.useRef)(),A=(0,c.useRef)(),T=(0,f.Co)({component:M,global:S}),E=T.request,G=T.getValue,L=T.linkageMethod,U=T.requestUrl,B=T.componentFilter,H=T.value,J=void 0===H?[]:H,Q=T.componentFilterMap,W=(0,c.useMemo)((function(){var e;return null===(e=m.ZP.getFieldMapValue(J,{map:Q}))||void 0===e?void 0:e.city}),[J,Q]),X=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(W){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",(0,Z.tC)({city:W}).then((function(e){d(e)})).catch((function(e){console.error(e)})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=(0,c.useMemo)((function(){return h()("w-100","h-100",x,C()["component-other-weather"])}),[x]),$=(0,c.useMemo)((function(){return(0,u.merge)(j,(0,o.Z)((0,o.Z)({},z),{},{color:y(z.color),display:"flex",alignItems:O.vertical,justifyContent:O.horizontal}))}),[j,z,O]),ee=(0,c.useMemo)((function(){return(0,b.jsx)("div",{className:C()["component-other-weather-content"],children:(0,b.jsx)(r.Z,{children:_.map((function(e){var n,t=null===s||void 0===s||null===(n=s.realtime)||void 0===n?void 0:n[e];if("info"===e){var r=D.value.find((function(e){return e.wid==(null===s||void 0===s?void 0:s.realtime.wid)}));return(0,b.jsxs)("span",{children:[D.show&&!(null===r||void 0===r||!r.icon)&&(0,b.jsx)("span",{className:h()("bi",r.icon),style:(0,o.Z)((0,o.Z)({},z),{},{fontSize:z.fontSize+"px",color:y(r.color||g.ZP.generateNextColor4CurrentTheme(0))})})," ",t]},e)}return(0,b.jsx)("span",{children:k[e]?k[e](t):t},e)}))})})}),[_,s,D,z]),ne=function(){L("click",{})};return(0,c.useEffect)((function(){return clearInterval(V.current),X(),V.current=setInterval((0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!p()(Date.now()).isSame(A.current||0,"day")){e.next=3;break}return e.next=3,X();case 3:case"end":return e.stop()}}),e)}))),36e5),function(){clearInterval(V.current)}}),[W]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:Y,style:$,id:P.current,onClick:ne,children:(0,b.jsxs)(I,{border:R,children:[F,ee]})}),(0,b.jsx)(v.Z,{id:K,url:U,reFetchData:E,reGetValue:G,reCondition:u.noop,componentFilter:B,componentCondition:{value:[],initialState:"visible"}})]})},S=M;S.id=w.q,n["default"]=S},87832:function(e,n,t){"use strict";t.r(n);var r=t(11849),o=t(86582),i=(t(77576),t(59314)),a=t(2824),l=t(32059),c=t(69610),u=t(54941),s=t(81306),h=t(80017),d=(t(18106),t(25499)),p=t(67294),f=t(96486),v=t(68628),x=t(66656),m=t(35931),Z=t(80585),g=t(13631),w=t(79837),j=t(773),C=t(83488),b=t(75292),y=t(50962),k=t(4947),M=t(12919),S=t(75691),F=t(85893),I=(d.Z.TabPane,g.Z.Item),K=function(e){(0,s.Z)(t,e);var n=(0,h.Z)(t);function t(){var e;(0,c.Z)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o)),e.onKeyChange=function(n,t){e.props.onChange({config:{options:(0,l.Z)({},n,t)}})},e}return(0,u.Z)(t,[{key:"render",value:function(){var e=this,n=this.props.value,t=n.config.options,l=t.show,c=t.textStyle,u=t.widMap,s=t.align;return(0,F.jsx)(m.Z,{items:[{label:(0,F.jsx)(m.O,{children:"\u6837\u5f0f"}),children:(0,F.jsxs)(g.Z,{level:1,children:[(0,F.jsx)(I,{label:"\u663e\u793a\u5185\u5bb9",placeholder:(0,F.jsx)(Z.Z,{title:"\u9009\u62e9\u987a\u5e8f\u5f71\u54cd\u663e\u793a\u987a\u5e8f",children:(0,F.jsx)(v.Z,{})}),children:(0,F.jsx)(w.Z,{children:(0,F.jsx)(x.Z,{className:"w-100",value:l,mode:"multiple",onChange:this.onKeyChange.bind(this,"show"),options:Object.entries(S.bf).map((function(e){var n=(0,a.Z)(e,2),t=n[0],r=n[1];return{label:r,value:t}}))})})}),(0,F.jsx)(y.u,{child:{header:"\u6587\u5b57\u6837\u5f0f",key:"textStyle"},children:(0,F.jsx)(j.g,{value:c,onChange:this.onKeyChange.bind(this,"textStyle")})}),(0,F.jsx)(k.Z,{value:s,onChange:this.onKeyChange.bind(this,"align")}),(0,F.jsx)(I,{label:"\u5929\u6c14\u56fe\u6807",children:(0,F.jsx)(w.Z,{children:(0,F.jsx)(i.Z,{checked:u.show,onChange:function(n){e.props.onChange({config:{options:{widMap:{show:n}}}})}})})}),u.show&&(0,F.jsx)(b.Z,{disabledCal:!0,onAdd:function(){},onRemove:function(e){},counter:u.value.length,max:u.value.length,renderContent:function(n){var t=u.value[n],i=t.icon,a=t.color;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(I,{label:"\u989c\u8272",children:(0,F.jsx)(w.Z,{children:(0,F.jsx)(C.D,{value:a,onChange:function(t){var i=(0,o.Z)(u.value);i.splice(n,1,(0,f.merge)(i[n],{backgroundColor:t})),e.onKeyChange("widMap",(0,r.Z)((0,r.Z)({},u),{},{value:i}))}})})}),(0,F.jsx)(M.Z,{value:i,onChange:function(t){var i=(0,o.Z)(u.value);i.splice(n,1,(0,f.merge)(i[n],{icon:t})),e.onKeyChange("widMap",(0,r.Z)((0,r.Z)({},u),{},{value:i}))}})]})},seriesLabel:function(e){return u.value[e].weather||"\u5929\u6c14"}})]}),key:"1"}]})}}]),t}(p.Component);n["default"]=K}}]);