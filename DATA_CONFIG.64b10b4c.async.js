(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{"7HH8":function(e,t,a){e.exports={"design-config-data-detail":"design-config-data-detail___1XVK_"}},Ix2a:function(e,t,a){"use strict";a("5NDa");var n=a("5rEg"),i=a("0Owb"),c=a("tJVT"),l=a("q1tI"),r=a.n(l),o=a("kMsK"),s=function(e){var t=e.value,a=e.defaultValue,s=e.onChange,u=e.onBlur,d=e.triggerOnChangeInOnChange,f=void 0!==d&&d,m=e.onFocus,g=Object(l["useState"])(null!==t&&void 0!==t?t:a),b=Object(c["a"])(g,2),v=b[0],p=b[1],O=Object(l["useRef"])(!!e.autoFocus),j=Object(l["useCallback"])((function(e){var t=e.target.value;p(t),f&&(null===s||void 0===s||s(t))}),[s,f]),E=Object(l["useCallback"])((function(e){t!==v&&(null===s||void 0===s||s(v)),null===u||void 0===u||u(e),O.current=!1}),[u,s,v,t]),C=Object(l["useCallback"])((function(e){null===m||void 0===m||m(e),O.current=!0}),[m]);return Object(l["useEffect"])((function(){void 0!==t&&p(t)}),[t]),Object(o["a"])((function(){t!=v&&O.current&&(null===s||void 0===s||s(v))})),r.a.createElement(n["a"],Object(i["a"])({},e,{onFocus:C,onChange:j,onBlur:E,value:v}))};t["a"]=s},LrHX:function(e,t,a){e.exports={"design-config-checkbox":"design-config-checkbox___3Evol"}},NPMa:function(e,t,a){e.exports={"design-config-map-table":"design-config-map-table___20OSI"}},Q8vD:function(e,t,a){e.exports={"design-config-data-detail-sub-title":"design-config-data-detail-sub-title___foNVG","design-config-data-detail-sub-form":"design-config-data-detail-sub-form___AyqXv"}},ThT2:function(e,t,a){e.exports={"design-config-data-filter":"design-config-data-filter___20ZCl","design-config-data-filter-add-item-btn":"design-config-data-filter-add-item-btn___3Mb_s","design-config-data-filter-add-item-select":"design-config-data-filter-add-item-select___2jH4I","design-config-data-filter-disabled":"design-config-data-filter-disabled___3YL_D"}},Xjm1:function(e,t,a){e.exports={"design-config-data-filter-list-item":"design-config-data-filter-list-item___2xo9A","design-config-data-filter-list-item-content":"design-config-data-filter-list-item-content___3WYYt","design-config-data-filter-list-item-header":"design-config-data-filter-list-item-header___3ufQZ","design-config-data-filter-list-item-header-name":"design-config-data-filter-list-item-header-name___8_TJG","design-config-data-filter-list-item-header-action-right":"design-config-data-filter-list-item-header-action-right___1dVoM","design-config-data-filter-list-item-header-action-right-info":"design-config-data-filter-list-item-header-action-right-info___2ZJGV","design-config-data-filter-list-item-action":"design-config-data-filter-list-item-action___Z2pRu","design-config-data-filter-list-item-step-code":"design-config-data-filter-list-item-step-code___td8Td"}},ffeQ:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),i=a.n(n),c=a("TSYQ"),l=a.n(c),r=a("/MKj"),o=a("+YFz"),s=a("DhgR"),u=a("9ZlZ"),d=(a("5Dmo"),a("3S7+")),f=a("k1fw"),m=a("oBTY"),g=a("tJVT"),b=a("YOiT"),v=a("Ix2a"),p=a("tnti");function O(e){return"string"===e?"\u5b57\u7b26\u578b\u5b57\u6bb5":"number"===e?"\u6570\u503c\u578b\u5b57\u6bb5":"number[]"===e?"\u6570\u503c\u578b\u6570\u7ec4\u5b57\u6bb5":"string[]"===e?"\u5b57\u7b26\u578b\u6570\u7ec4\u5b57\u6bb5":"boolean"===e?"\u5e03\u5c14\u578b\u5b57\u6bb5":"\u6570\u7ec4\u5b50\u9879"}var j=function(e){var t=Object(b["a"])(e,{defaultValue:[]}),a=Object(g["a"])(t,2),c=a[0],l=a[1],r=Object(n["useCallback"])((function(e,t){var a=e.id,n=c.findIndex((function(e){return e.id===a})),i=c[n],r=Object(m["a"])(c);r.splice(n,1,Object(f["a"])(Object(f["a"])({},i),{},{map:t})),l(r)}),[l,c]),o=Object(n["useMemo"])((function(){return[{key:"field",title:"\u5b57\u6bb5",dataIndex:"field",render:function(e,t){return i.a.createElement(d["a"],{title:t.description},e)}},{key:"map",title:"\u6620\u5c04",dataIndex:"map",width:140,render:function(e,t){return i.a.createElement(v["a"],{className:"w-100",value:e,onChange:r.bind(null,t),placeholder:O(t.type)})}}]}),[r]);return i.a.createElement(p["a"],{columns:o,rowKey:"id",dataSource:c})},E=j,C=(a("sRBo"),a("kaz8")),h=(a("FJo9"),a("L41K")),k=a("LvDl"),_=a("gPk9"),y=a("w2v6"),N=a.n(y),w=function(e){var t=e.value,a=void 0===t?{value:1,show:!1}:t,c=e.onChange,r=Object(n["useCallback"])((function(e){null===c||void 0===c||c({show:!!e.target.checked})}),[a,c]),o=Object(n["useCallback"])((function(e){var t=parseFloat(e)||1;null===c||void 0===c||c({value:t})}),[a,c]);return i.a.createElement("div",{className:l()(N.a["design-config-auto-update"],"design-config-format-font-size")},i.a.createElement(C["a"],{onChange:r,checked:!!a.show},"\u81ea\u52a8\u66f4\u65b0\u8bf7\u6c42"),i.a.createElement(_["a"],{value:a.value||0,disabled:!a.show,onChange:o,controls:!1}),"  \u79d2\u4e00\u6b21")},x=w,T=a("5cOq"),q=a("jNPv"),I=a("0Owb"),D=a("PpiC"),S=a("oUxN"),M=a("6Itl"),P=function(e){var t=e.global.screenData.config.attr,a=t.filter,n=t.params,i=t.constants;return{filter:a,params:n,constants:i}},K=function(e){return{}},F=["filter","value","params","constants"],A=function(e){var t=e.filter,a=e.value,c=e.params,l=e.constants,r=Object(D["a"])(e,F),o=Object(n["useState"])(),s=Object(g["a"])(o,2),u=s[0],d=s[1];return Object(n["useEffect"])((function(){M["c"].getPipeFilterValue(a,t,c,l).then((function(e){d(e)}))}),[a,t,c,l]),i.a.createElement(S["a"],Object(I["a"])({disabled:!0,language:"json",width:"312px",height:"240px",bordered:!0,autoFormat:!0,action:["copy","typesetting"]},r,{value:u}))},L=Object(r["c"])(P,K)(A),R=(a("bbsP"),a("/wGt")),V=(a("OaEy"),a("2fM7")),H=a("eZYV"),z=a("ZeU6"),Y=a("gyP4"),Z=(a("Awhp"),a("KrTs")),G=a("fs0a"),B=a.n(G),J=function(e){var t=e.children,a=e.visible,c=void 0===a||a,l=Object(n["useMemo"])((function(){return c?"processing":"default"}),[c]);return i.a.createElement("div",{className:B.a["design-config-data-detail-title"]},i.a.createElement(Z["a"],{status:l,size:"default"}),t)},X=J,Q=a("qLMh"),W=a("9og8"),U=a("q7Sj"),$=a("Emgl"),ee=function(e){return{params:e.global.screenData.config.attr.params,constants:e.global.screenData.config.attr.constants}},te=function(e){return{}},ae=function(e){var t=e.onChange,a=e.value,c=e.params,l=e.constants,r=a.request.type,o=Object(n["useCallback"])(Object(W["a"])(Object(Q["a"])().mark((function e(){var n;return Object(Q["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["c"].requestData(a,c,l);case 2:n=e.sent,null===t||void 0===t||t({request:{value:n}});case 4:case"end":return e.stop()}}),e)}))),[a,t,c]);return i.a.createElement(X,null,"\u6570\u636e\u54cd\u5e94\u7ed3\u679c","static"!==r&&i.a.createElement($["a"],{title:"\u91cd\u65b0\u83b7\u53d6\u6570\u636e"},i.a.createElement(U["a"],{className:"m-l-4",onClick:o})))},ne=Object(r["c"])(ee,te)(ae),ie=a("Q8vD"),ce=a.n(ie),le=function(e){var t=e.children;return i.a.createElement("div",{className:ce.a["design-config-data-detail-sub-title"]},t)},re=function(e){var t=e.children;return i.a.createElement("div",{className:ce.a["design-config-data-detail-sub-form"]},t)},oe=le,se=a("jrin"),ue=a("4b23"),de=a("kMsK"),fe=a("wYyv"),me=a.n(fe),ge=a("0lfv"),be=(a("+L6B"),a("2/Rp")),ve=a("xvlK"),pe=a("ThT2"),Oe=a.n(pe),je=V["a"].Option,Ee=function(e){var t=e.dataSource,a=e.onClick,c=e.value,r=e.onChange,o=e.btnDisabled,s=Object(n["useMemo"])((function(){return t.filter((function(e){return c.every((function(t){return t.id!==e.id}))}))}),[t,c]),u=Object(n["useCallback"])((function(e){if(!c.find((function(t){return t.id===e}))){var t=[].concat(Object(m["a"])(c),[{disabled:!1,id:e}]);null===r||void 0===r||r(t)}}),[c,r]);return i.a.createElement("div",{className:l()("dis-flex")},i.a.createElement(V["a"],{className:Oe.a["design-config-data-filter-add-item-select"],onSelect:u,size:"middle",value:""},s.map((function(e){var t=e.id,a=e.name;return i.a.createElement(je,{value:t,key:t},a)}))),i.a.createElement(be["a"],{className:Oe.a["design-config-data-filter-add-item-btn"],onClick:a,size:"middle",type:"default",ghost:!0,icon:i.a.createElement(ve["a"],null),disabled:!!o}))},Ce=Ee,he=(a("DYRE"),a("zeV3")),ke=(a("fu2T"),a("gK9i")),_e=a("WCWe"),ye=a("ZAfk"),Ne=a("/MfK"),we=a("X72a"),xe=a("Lyp1"),Te=a("YJCA"),qe=a("K1vP"),Ie=a("LFOt"),De=(a("Q9mQ"),a("diRs")),Se=a("ovOe"),Me=a.n(Se),Pe=a("6wSz"),Ke=a("Xjm1"),Fe=a.n(Ke),Ae=function(e){var t=e.id,a=Object(n["useMemo"])((function(){return M["b"][t]?M["b"][t]:{errMsg:"\u8bbe\u8ba1\u5668\u5185\u90e8\u9519\u8bef"}}),[t]);return i.a.createElement("div",{className:Fe.a["design-config-data-filter-list-item-step-code"],onClick:function(e){e.stopPropagation(),e.preventDefault()}},i.a.createElement(Me.a,{src:a,theme:"greenscreen",enableClipboard:!0,onEdit:!1,onDelete:!1,onAdd:!1,displayDataTypes:!1,displayObjectSize:!0,indentWidth:2,collapseStringsAfterLength:10,iconStyle:"square"}))},Le=function(e){var t=Object(n["useState"])(!1),a=Object(g["a"])(t,2),c=a[0],l=a[1],r=e.buttonProps,o=void 0===r?{}:r,s=e.id,u=Object(n["useCallback"])((function(e){e.stopPropagation(),l((function(e){return!e}))}),[]),d=Object(n["useCallback"])((function(e){e||l(e)}),[]);return i.a.createElement(De["a"],{trigger:"click",content:i.a.createElement(Ae,{id:s}),mouseEnterDelay:1,open:c,onOpenChange:d,placement:"left"},i.a.createElement(be["a"],Object(I["a"])({className:"h-a m-r-4",type:"link",icon:i.a.createElement(Pe["a"],null),onClick:u},o)))},Re=Le,Ve=(a("5NDa"),a("5rEg")),He=(a("miYZ"),a("tsqr")),ze=a("9mgU"),Ye=function(e){var t=e.value,a=e.isHover,c=e.onChange,l=e.onFocus,r=e.onBlur,o=Object(n["useState"])(t),s=Object(g["a"])(o,2),u=s[0],d=s[1],f=Object(n["useState"])(!1),m=Object(g["a"])(f,2),b=m[0],v=m[1],p=Object(n["useCallback"])((function(e){var t=e.target.value;d(t)}),[]),O=Object(n["useCallback"])((function(){if(!u.trim().length)return He["default"].info("\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"),void d(t);null===c||void 0===c||c(u||t),v(!1),null===r||void 0===r||r()}),[c,u,t]),j=function(e){e.stopPropagation()},E=Object(n["useCallback"])((function(e){j(e)}),[b]);return i.a.createElement("div",{className:Fe.a["design-config-data-filter-list-item-header-name"],onClick:E},b?i.a.createElement(Ve["a"],{value:u,onChange:p,onBlur:O,onClick:j,autoFocus:!0,onFocus:l}):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"text-ellipsis",title:u},u),i.a.createElement(be["a"],{className:"h-a",type:"link",style:{visibility:a?"visible":"hidden"},icon:i.a.createElement(ze["a"],null),onClick:function(e){j(e),v(!0)}})))},Ze=Ye,Ge=["props","onCodeCancel","onCodeConfirm","onChange","onComponentChange","isTemp","dragDisabled"],Be=ke["a"].Panel,Je=Object(Te["c"])((function(){return i.a.createElement(ye["a"],{className:"c-po"})})),Xe=function(e){var t,a,c=e.props,r=c.disabled,o=c.id,s=c.name,u=c.code,d=c.params,m=e.onCodeCancel,b=e.onCodeConfirm,v=e.onChange,p=e.onComponentChange,O=e.isTemp,j=e.dragDisabled,E=Object(D["a"])(e,Ge),h=Object(n["useState"])(O?{code:u}:null),k=Object(g["a"])(h,2),_=k[0],y=k[1],N=Object(n["useState"])(O?o:""),w=Object(g["a"])(N,2),x=w[0],T=w[1],q=Object(n["useRef"])(null),M=Object(_e["a"])(q),P=Object(n["useCallback"])((function(){y(null),null===m||void 0===m||m(),T("")}),[m]),K=Object(n["useCallback"])((function(){null===b||void 0===b||b(_?Object(f["a"])({id:o},_):{id:o}),T(""),y(null)}),[b,_,o]),F=Object(n["useCallback"])((function(e,t,a){null===v||void 0===v||v(t,Object(se["a"])({id:o},e,a))}),[o,v]),A=Object(n["useCallback"])((function(e,t){var a,n=Object(f["a"])(Object(f["a"])({},_||{}),{},(a={},Object(se["a"])(a,e,t),Object(se["a"])(a,"id",o),a));y(n)}),[o,_]),L=Object(n["useCallback"])((function(e,t,a){var n;null===p||void 0===p||p(t,(n={},Object(se["a"])(n,e,a),Object(se["a"])(n,"id",o),n))}),[p,o]),R=function(e){e.stopPropagation()},V=Object(n["useMemo"])((function(){return i.a.createElement("div",{ref:q,className:l()("dis-flex","w-100",Fe.a["design-config-data-filter-list-item-header"])},!j&&!O&&i.a.createElement(Je,null),i.a.createElement(Re,{buttonProps:{style:{visibility:M&&!r?"visible":"hidden"}},id:o}),i.a.createElement(C["a"],{checked:!r,onChange:function(e){L("disabled","update",!e.target.checked)},onClick:R,style:{visibility:O?"hidden":"visible"}}),i.a.createElement(Ze,{value:s,onChange:F.bind(null,"name","name-update"),isHover:M}),i.a.createElement("div",{className:Fe.a["design-config-data-filter-list-item-header-action-right"]},i.a.createElement("div",{className:Fe.a["design-config-data-filter-list-item-header-action-right-info"]},"\u5171\u6709",i.a.createElement("span",null,i.a.createElement(Ie["a"],{id:o})),"\u4e2a\u7ec4\u4ef7\u4f7f\u7528"),i.a.createElement(be["a"],{className:"h-a",type:"link",icon:i.a.createElement(Ne["a"],null),style:{visibility:M?"visible":"hidden"},onClick:function(e){R(e),L("id","delete",null)}})))}),[r,s,L,F,M,j]),H=Object(n["useCallback"])((function(e){var t=e.filter((function(e){return e===o}));!t.includes(o)&&_||T(t[0])}),[o,_]);return i.a.createElement(ke["a"],Object(I["a"])({expandIcon:function(e){var t=e.isActive;return i.a.createElement(we["a"],{rotate:t?90:0})},expandIconPosition:"end",className:Fe.a["design-config-data-filter-list-item"],activeKey:[x],onChange:H,style:{zIndex:9999,opacity:1,visibility:"visible"}},E),i.a.createElement(Be,{header:V,key:o,className:l()(Object(se["a"])({},Fe.a["design-config-data-filter-list-item-content"],!!_))},i.a.createElement("p",{className:"m-t-4"},"\u5168\u5c40\u53c2\u6570",i.a.createElement($["a"],{title:"\u53ef\u54cd\u5e94\u5f0f\u66f4\u65b0\u6570\u636e"},i.a.createElement(xe["a"],{className:"m-l-4"}))," \uff1a"),i.a.createElement("div",{className:"p-lr-8"},i.a.createElement(qe["b"],{value:null!==(t=null===_||void 0===_?void 0:_.params)&&void 0!==t?t:d,onChange:A.bind(null,"params"),className:"m-t-4 m-b-8"})),i.a.createElement("p",null,"function filter( data, global, options ) {"),i.a.createElement(S["a"],{language:"javascript",width:426,height:180,value:null!==(a=null===_||void 0===_?void 0:_.code)&&void 0!==a?a:u,onChange:A.bind(null,"code")}),i.a.createElement("p",null,"}"),i.a.createElement("div",{className:Fe.a["design-config-data-filter-list-item-action"]},i.a.createElement("div",null,_&&i.a.createElement(Z["a"],{status:"warning",text:"\u672a\u4fdd\u5b58"})),i.a.createElement("div",null,i.a.createElement(he["b"],null,i.a.createElement(be["a"],{onClick:P},O?"\u53d6\u6d88":"\u64a4\u9500"),i.a.createElement(be["a"],{type:"primary",onClick:K},O?"\u4fdd\u5b58":"\u5b8c\u6210"))))))},Qe=Object(Te["b"])(Xe),We=Object(Te["a"])((function(e){var t=e.children;return i.a.createElement("div",{className:"sort-list-wrapper"},t)})),Ue=We,$e=function(e){return{filter:e.global.screenData.config.attr.filter}},et=function(e){return{setCallbackData:function(t){return e({type:"global/setCallbackData",value:t})}}},tt=function(e){var t=e.disabled,a=e.filter,c=e.setCallbackData,r=e.id,o=Object(b["a"])(e,{defaultValue:[]}),s=Object(g["a"])(o,2),u=s[0],d=s[1],v=Object(n["useCallback"])((function(e){var t=e.value,a=e.filter;t&&d(t),q["b"].emit(q["a"].COMPONENT_FILTER_CHANGE,{id:r,filter:a,componentConfig:{filter:{value:t}}})}),[]),p=Object(n["useState"])(null),O=Object(g["a"])(p,2),j=O[0],E=O[1],C=Object(n["useMemo"])((function(){return[].concat(Object(m["a"])(u),Object(m["a"])(j?[j]:[])).map((function(e){var t=a.find((function(t){return t.id===e.id}));return Object(f["a"])(Object(f["a"])({},e),t||{})}))}),[u,j,a]),h=function(e){return e.map((function(e){return Object(f["a"])(Object(f["a"])({},e),{},{editable:!1})}))},k=Object(n["useCallback"])((function(e){var t=e.id;if(t===(null===j||void 0===j?void 0:j.id)){var n=[].concat(Object(m["a"])(a),[Object(f["a"])(Object(f["a"])({},j),e)]);c(n),v({value:[].concat(Object(m["a"])(u),[{id:t,disabled:!1}]),filter:n}),E(null)}else{var i=a.map((function(a){return a.id!==t?a:Object(f["a"])(Object(f["a"])({},a),e)}));v({filter:i}),c(i)}}),[a,c,j,u]),_=Object(n["useCallback"])((function(e){var t=h(a);c(t),e===(null===j||void 0===j?void 0:j.id)&&E(null)}),[c,j,a]),y=Object(n["useCallback"])((function(e,t){if("delete"===e){var a=u.filter((function(e){return e.id!==t.id}));v({value:a}),t.id===(null===j||void 0===j?void 0:j.id)&&E(null)}else v({value:u.map((function(e){return e.id!==t.id?e:Object(f["a"])(Object(f["a"])({},e),t)}))})}),[u,j]),N=Object(n["useCallback"])((function(e,t){if("delete"===e)t.id===(null===j||void 0===j?void 0:j.id)&&E(null);else if(t.id===(null===j||void 0===j?void 0:j.id))E((function(e){return Object(f["a"])(Object(f["a"])({},e),t)}));else{var n=a.map((function(e){return e.id!==t.id?e:Object(f["a"])(Object(f["a"])({},e),t)}));c(n),"name-update"!==e&&v({filter:n})}}),[u,j]),w=Object(n["useCallback"])((function(){if(!j){var e={id:Object(ue["a"])(),editable:!0,name:"\u81ea\u5b9a\u4e49\u8fc7\u6ee4\u5668",code:ge["a"],params:[]};E(e)}}),[j]),x=Object(n["useCallback"])((function(e){var t=e.oldIndex,a=e.newIndex,n=u.reverse(),i=me()(n,t,a);v({value:i.reverse()})}),[u]);return Object(de["a"])((function(){c(h(a))})),i.a.createElement("div",{className:l()("design-config-format-font-size","design-config-format-font-size-with-collapse",Oe.a["design-config-data-filter"],Object(se["a"])({},Oe.a["design-config-data-filter-disabled"],t),"border-1")},i.a.createElement(Ue,{onSortEnd:x,useDragHandle:!0,distance:10},C.map((function(e,t){return i.a.createElement(Qe,{props:e,index:t,key:e.id,onCodeConfirm:k,onCodeCancel:_.bind(null,e.id),onChange:N,onComponentChange:y,isTemp:e.id===(null===j||void 0===j?void 0:j.id)})}))),i.a.createElement(Ce,{dataSource:a,onClick:w,value:u,onChange:function(e){return v({value:e})},btnDisabled:!!j}))},at=Object(r["c"])($e,et)(tt),nt=a("LrHX"),it=a.n(nt),ct=function(e){return i.a.createElement(C["a"],Object(I["a"])({},e,{className:l()(it.a["design-config-checkbox"],e.className)}))},lt=ct,rt=a("XkjI"),ot=a.n(rt),st=function(e){try{return JSON.stringify(ot.a.parse(e||""))}catch(t){return e||""}},ut=function(e){var t=e.value,a=e.onChange,c=e.language,l=void 0===c?"json":c,r=Object(n["useState"])((function(){return st(t||"")})),o=Object(g["a"])(r,2),s=o[0],u=o[1],d=Object(n["useCallback"])((function(e){null===a||void 0===a||a(e)}),[a]);return i.a.createElement("div",null,i.a.createElement(S["a"],{language:l,width:454,height:138,bordered:!0,value:s,onChange:u,onBlur:d,blurCanScroll:!0,autoFormat:{mount:"json"===l,blur:!1}}))},dt=ut,ft=function(e){return{params:e.global.screenData.config.attr.params,constants:e.global.screenData.config.attr.constants}},mt=function(e){return{}},gt=function(){return i.a.createElement($["a"],{title:"\u53ef\u4ee5\u4f7f\u7528\u5168\u5c40\u7684\u53d8\u91cf"},i.a.createElement(o["a"],{className:"m-r-4"}))},bt=function(e){var t=e.onChange,a=e.value,c=e.params,l=e.constants,r=a.request,o=r.method,s=r.url,u=r.headers,d=r.body,f=r.serviceRequest,m=Object(n["useCallback"])(function(){var e=Object(W["a"])(Object(Q["a"])().mark((function e(n){var i;return Object(Q["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["c"].requestData(Object(k["merge"])({},a,{request:{url:n}}),c,l);case 2:i=e.sent,null===t||void 0===t||t({request:{url:n,value:i}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,l,a]);return i.a.createElement("div",null,i.a.createElement(oe,null,"\u8bf7\u6c42\u65b9\u5f0f"),i.a.createElement(re,null,i.a.createElement(V["a"],{className:"w-100 c-f-s",popupClassName:"design-config-select-dropdown",defaultValue:"POST",value:o,onChange:function(e){null===t||void 0===t||t({request:{method:e}})},options:[{value:"POST"},{value:"GET"}]})),i.a.createElement(oe,null,"URL"),i.a.createElement(re,null,i.a.createElement(dt,{language:"txt",value:s,onChange:m})),i.a.createElement(oe,null,i.a.createElement(gt,null),"Headers"),i.a.createElement(re,null,i.a.createElement(dt,{value:u,onChange:function(e){null===t||void 0===t||t({request:{headers:e}})}})),"POST"===o&&i.a.createElement(i.a.Fragment,null,i.a.createElement(oe,null,i.a.createElement(gt,null),"\u8bf7\u6c42\u53c2\u6570"),i.a.createElement(re,null,i.a.createElement(dt,{value:d,onChange:function(e){null===t||void 0===t||t({request:{body:e}})}}))),!Y["a"].IS_STATIC&&i.a.createElement(re,null,i.a.createElement(lt,{checked:!!f,onChange:function(e){null===t||void 0===t||t({request:{serviceRequest:e.target.checked}})}},"\u670d\u52a1\u7aef\u8bf7\u6c42")))},vt=Object(r["c"])(ft,mt)(bt),pt=function(e){var t=e.value,a=e.onChange,c=Object(n["useCallback"])((function(e){null===a||void 0===a||a({request:{value:M["c"].stringDataToObject(e)}})}),[a]);return i.a.createElement(dt,{onChange:c,value:t})},Ot=pt,jt=function(e){return{params:e.global.screenData.config.attr.params,constants:e.global.screenData.config.attr.constants}},Et=function(e){return{}},Ct=function(e){var t=e.value,a=void 0===t?[]:t,c=e.onChange,l=e.mockKindList,r=Object(n["useCallback"])((function(e,t,n,i){var l=Object(m["a"])(a);l.splice(t,1,Object(f["a"])(Object(f["a"])({},e),{},Object(se["a"])({},n,i))),c(l)}),[c,a]),o=Object(n["useCallback"])((function(e){var t=a.filter((function(t){return t.id!==e.id}));c(t)}),[a,c]),s=Object(n["useMemo"])((function(){return[{key:"key",title:"\u5b57\u6bb5\u540d",dataIndex:"key",render:function(e,t,a){return i.a.createElement(v["a"],{className:"w-100",value:e,onChange:r.bind(null,t,a,"key")})}},{key:"dataKind",title:"\u6570\u636e\u79cd\u7c7b",dataIndex:"dataKind",width:140,render:function(e,t,a){return i.a.createElement(V["a"],{className:"w-100",value:e,onChange:r.bind(null,t,a,"dataKind"),options:l.map((function(e){return{label:e.value,value:e.id}}))})}},{key:"description",title:"\u63cf\u8ff0",dataIndex:"description",render:function(e,t){var a=t.dataKind,n=l.find((function(e){return e.id===a}));return(null===n||void 0===n?void 0:n.description)||"\u65e0\u63cf\u8ff0\u5185\u5bb9"}},{key:"operation",title:"\u64cd\u4f5c",dataIndex:"operation",render:function(e,t){return i.a.createElement(be["a"],{type:"link",danger:!0,icon:i.a.createElement(Ne["a"],null),onClick:o.bind(null,t)})}}]}),[r,l,o]),u=Object(n["useCallback"])((function(){c([].concat(Object(m["a"])(a),[{key:"key_".concat(Date.now()),dataKind:"",id:Object(ue["a"])()}]))}),[a,c]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(be["a"],{type:"primary",onClick:u,className:"m-t-8"},"\u65b0\u589e\u5b57\u6bb5"),i.a.createElement(p["a"],{columns:s,rowKey:"id",dataSource:a}))},ht=Object(r["c"])((function(e){return{mockKindList:e.data.mockValueKindMap}}),(function(){return{}}))(Ct),kt=function(e){var t=e.onChange,a=e.value,c=e.params,l=e.constants,r=a.request.mock,o=r||{},s=o.fields,u=o.random,d=o.total,f=Object(n["useCallback"])(function(){var e=Object(W["a"])(Object(Q["a"])().mark((function e(a){var n;return Object(Q["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["c"].requestData(a,c,l);case 2:n=e.sent,null===t||void 0===t||t(Object(ge["g"])({},a,{request:{value:n}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,l]),m=Object(n["useCallback"])((function(e){f(Object(ge["g"])({},a,e))}),[t,f,a]);return i.a.createElement("div",null,i.a.createElement(oe,null,"\u8bf7\u6c42\u5b57\u6bb5"),i.a.createElement(re,null,i.a.createElement(ht,{value:s,onChange:function(e){null===m||void 0===m||m({request:{mock:{fields:e}}})}})),i.a.createElement(oe,null,"\u6570\u636e\u6761\u6570"),i.a.createElement(re,null,i.a.createElement(_["a"],{value:d,onChange:function(e){null===m||void 0===m||m({request:{mock:{total:e}}})}})),i.a.createElement(re,null,i.a.createElement(lt,{checked:u,onChange:function(e){null===m||void 0===m||m({request:{mock:{random:e.target.checked}}})}},"\u968f\u673a\u8fd4\u56de")))},_t=Object(r["c"])(jt,Et)(kt),yt=function(e){var t=e.type,a=e.staticProps,n=e.apiProps,c=e.mockProps;return"mock"===t?i.a.createElement(_t,c):"api"===t?i.a.createElement(vt,n):i.a.createElement(Ot,a)},Nt=yt,wt=function(e){var t=e.value,a=void 0===t?[]:t,c=e.valueType,l=Object(n["useMemo"])((function(){return"array"===c?"\u6570\u7ec4":"\u5bf9\u8c61"}),[]),r=Object(n["useMemo"])((function(){return[{key:"field",title:"\u5b57\u6bb5",dataIndex:"field",width:140},{key:"map",title:"\u6620\u5c04",dataIndex:"map",width:140},{key:"description",title:"\u8bf4\u660e",dataIndex:"description"}]}),[]);return i.a.createElement("div",null,i.a.createElement(oe,null,"\u6570\u636e\u54cd\u5e94\u7ed3\u679c\u5e94\u4e3a",l,"\uff0c",l,"\u5143\u7d20\u5305\u542b\u5982\u4e0b\u5b57\u6bb5"),i.a.createElement(re,null,i.a.createElement(p["a"],{columns:r,rowKey:"id",bordered:!0,dataSource:a})))},xt=wt,Tt=a("7HH8"),qt=a.n(Tt),It=V["a"].Option,Dt=Object(n["forwardRef"])((function(e,t){var a=e.value,c=e.onChange,l=e.id,r=a.request,o=r.type,s=r.valueType,u=a.filter,d=u.show,f=u.map,m=u.value,b=Object(H["r"])(e.value),v=Object(n["useState"])(!1),p=Object(g["a"])(v,2),O=p[0],j=p[1],E=Object(n["useCallback"])((function(){j(!0)}),[]);Object(n["useMemo"])((function(){return i.a.createElement("div",null)}),[]);Object(n["useImperativeHandle"])(t,(function(){return{open:E}}),[E]);var h=Object(n["useCallback"])((function(e){null===c||void 0===c||c({request:{type:e}})}),[c]),k=Object(n["useCallback"])((function(e){var t=e.target.checked;null===c||void 0===c||c({filter:{show:t}}),q["b"].emit(q["a"].COMPONENT_FILTER_CHANGE,{id:l,componentConfig:{filter:{show:t}}})}),[c]),_=Object(n["useCallback"])((function(e){null===c||void 0===c||c({filter:{value:e}})}),[c]);return i.a.createElement(R["a"],{open:O,placement:"right",onClose:j.bind(null,!1),title:"\u8bbe\u7f6e\u6570\u636e\u6e90",width:500,bodyStyle:{paddingTop:0},destroyOnClose:!0},i.a.createElement(z["a"],{className:qt.a["design-config-data-detail"],force:O},i.a.createElement(X,null,"\u6570\u636e\u6e90"),i.a.createElement(oe,null,"\u6570\u636e\u6e90\u7c7b\u578b"),i.a.createElement(re,null,i.a.createElement(V["a"],{className:"w-100 c-f-s",popupClassName:"design-config-select-dropdown",value:o,defaultValue:"static",onChange:h},i.a.createElement(It,{key:"static",value:"static"},"\u9759\u6001\u6570\u636e"),!!Y["a"].ENABLE_MOCK_DATA_CONFIG&&!Y["a"].IS_STATIC&&i.a.createElement(It,{key:"mock",value:"mock"},"Mock"),i.a.createElement(It,{key:"api",value:"api"},"API"))),i.a.createElement(Nt,{type:o,staticProps:{value:b,onChange:c},apiProps:{onChange:c,value:e.value},mockProps:{onChange:c,value:e.value}}),i.a.createElement(X,{visible:!!d},i.a.createElement(C["a"],{checked:d,onChange:k},"\u6570\u636e\u8fc7\u6ee4\u5668")),i.a.createElement(at,{value:m,onChange:_,disabled:!d,id:l}),i.a.createElement(xt,{value:f,valueType:s}),i.a.createElement(ne,{value:e.value,onChange:c}),i.a.createElement(L,{width:454,height:238,value:e.value})))})),St=Dt,Mt=a("q3oF"),Pt=a.n(Mt),Kt=(h["a"].Step,function(e){var t=e.value,a=e.onChange,c=t.id,r=Object(n["useRef"])(null),o=Object(n["useMemo"])((function(){var e=Object(k["get"])(t,"config.data.request.type");return"api"===e?"\u63a5\u53e3\u6570\u636e":"mock"===e?"Mock\u6570\u636e":"\u9759\u6001\u6570\u636e"}),[t]),s=Object(n["useMemo"])((function(){return Object(k["get"])(t,"config.data.request.frequency")}),[t]),u=Object(n["useMemo"])((function(){return Object(k["get"])(t,"config.data.filter.show")}),[t]),d=Object(n["useMemo"])((function(){return t.config.data}),[t]),f=Object(n["useCallback"])((function(e){null===a||void 0===a||a({config:{data:e}})}),[a]),m=Object(n["useCallback"])((function(e){null===a||void 0===a||a({config:{data:{request:{frequency:e}}}})}),[a]),g=Object(n["useCallback"])((function(e){var t=e.target.checked;null===a||void 0===a||a({config:{data:{filter:{show:t}}}}),q["b"].emit(q["a"].COMPONENT_FILTER_CHANGE,{id:c,componentConfig:{filter:{show:t}}})}),[a]),b=Object(n["useCallback"])((function(){var e;null===(e=r.current)||void 0===e||e.open()}),[]);return i.a.createElement("div",{className:Pt.a["design-config-response-data"]},i.a.createElement(x,{value:s,onChange:m}),i.a.createElement("div",{className:Pt.a["design-config-response-data-step"]},i.a.createElement(h["a"],{progressDot:!0,current:2,direction:"vertical",items:[{title:i.a.createElement("div",{className:l()(Pt.a["design-config-response-data-step-item"],"dis-flex")},i.a.createElement("div",{className:Pt.a["design-config-response-data-step-item-title"]},i.a.createElement("span",{className:Pt.a["design-config-response-data-step-item-title-type-txt"]},o)),i.a.createElement(T["a"],{onClick:b},"\u914d\u7f6e\u6570\u636e\u6e90"))},{title:i.a.createElement("div",{className:l()(Pt.a["design-config-response-data-step-item"],"dis-flex")},i.a.createElement("div",{className:Pt.a["design-config-response-data-step-item-title"]},i.a.createElement(C["a"],{checked:u,onChange:g},"\u6570\u636e\u8fc7\u6ee4\u5668")),i.a.createElement(T["a"],{onClick:b},"\u6dfb\u52a0\u8fc7\u6ee4\u5668")),status:u?"finish":"wait"},{title:i.a.createElement("div",{className:l()(Pt.a["design-config-response-data-step-item"],"dis-flex")},i.a.createElement("div",{className:Pt.a["design-config-response-data-step-item-title"]},i.a.createElement("span",null,"\u6570\u636e\u54cd\u5e94\u7ed3\u679c","\uff08 \u53ea\u8bfb \uff09")))}]})),i.a.createElement("div",{className:Pt.a["design-config-response-data-code-editor-view"]},i.a.createElement(L,{value:t.config.data})),i.a.createElement(St,{ref:r,value:d,onChange:f,id:c}))}),Ft=Kt,At=function(e){return{}},Lt=function(e){return{}},Rt=a("jkTI"),Vt=a.n(Rt),Ht=function(e){var t,a,c,r,d=e.id,f=e.component,m=!(null===(t=f.config.data)||void 0===t||!t.disabled),g=(null===(a=f.config)||void 0===a||null===(c=a.data)||void 0===c||null===(r=c.filter)||void 0===r?void 0:r.map)||[],b=Object(n["useCallback"])((function(e){u["a"].setComponent({value:e,id:d,path:Object(s["k"])(d),action:"update"})}),[d]);return m?i.a.createElement("div",{className:l()(Vt.a["design-config-data"],Vt.a["design-config-data-empty"],"design-config-format-font-size")},i.a.createElement(o["a"],{style:{marginRight:4}}),"\u8be5\u7ec4\u4ef6\u65e0\u6570\u636e\u914d\u7f6e"):i.a.createElement("div",{className:l()(Vt.a["design-config-data"],"design-config-format-font-size")},i.a.createElement("div",{className:l()(Vt.a["design-config-data-title"],"border-1")},i.a.createElement("span",{className:l()("text-ellipsis-2")},"\u6570\u636e\u63a5\u53e3")),i.a.createElement(E,{value:g,onChange:function(e){return b({config:{data:{filter:{map:e}}}})}}),i.a.createElement("div",{className:l()(Vt.a["design-config-data-title"],"border-1")},i.a.createElement("span",{className:l()("text-ellipsis-2",Vt.a["design-config-data-title-sub"])},"\u6570\u636e\u54cd\u5e94\u7ed3\u679c")),i.a.createElement(Ft,{value:f,onChange:b}))};t["default"]=Object(r["c"])(At,Lt)(Ht)},fs0a:function(e,t,a){e.exports={"design-config-data-empty":"design-config-data-empty___3c3_r","design-config-data":"design-config-data___3DFoE","design-config-data-title":"design-config-data-title___3ktKM","design-config-data-title-sub":"design-config-data-title-sub___cjrcp","design-config-data-detail-title":"design-config-data-detail-title___1gsaG"}},jkTI:function(e,t,a){e.exports={"design-config-data-empty":"design-config-data-empty___39w2u","design-config-data":"design-config-data___24lVx","design-config-data-title":"design-config-data-title___3mKIi","design-config-data-title-sub":"design-config-data-title-sub___2WrEW"}},q3oF:function(e,t,a){e.exports={"design-config-response-data-step":"design-config-response-data-step___2RjXg","design-config-response-data-step-item":"design-config-response-data-step-item___--s4O","design-config-response-data-step-item-title-type-txt":"design-config-response-data-step-item-title-type-txt___3KoiU","design-config-response-data-code-editor-view":"design-config-response-data-code-editor-view___2ZsoT","design-config-response-data":"design-config-response-data___3Zy_L"}},tnti:function(e,t,a){"use strict";a("g9YV");var n=a("wCAj"),i=a("0Owb"),c=a("PpiC"),l=a("q1tI"),r=a.n(l),o=a("TSYQ"),s=a.n(o),u=a("NPMa"),d=a.n(u),f=["className"];function m(e){var t=e.className,a=Object(c["a"])(e,f);return r.a.createElement(n["a"],Object(i["a"])({pagination:!1,className:s()(t,d.a["design-config-map-table"]),bordered:!1},a))}t["a"]=m},w2v6:function(e,t,a){e.exports={"design-config-auto-update":"design-config-auto-update___2ty0f"}}}]);