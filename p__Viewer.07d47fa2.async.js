(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[99],{QLB0:function(e,t,a){e.exports={"page-preview-pc":"page-preview-pc___1JC2S","page-preview-h5":"page-preview-h5___1NG1C","page-preview-h5-wrapper":"page-preview-h5-wrapper___2kRaV"}},"hq/+":function(e,t,a){e.exports={"designer-water-mark":"designer-water-mark___16Cvh"}},nLdk:function(e,t,a){"use strict";a.r(t);var n=a("PpiC"),r=a("q1tI"),c=a.n(r),i=a("/MKj"),o=a("eZYV"),l=a("X8Db"),s=a("C2ns"),f=a("tJVT"),u=a("TSYQ"),h=a.n(u),p=a("kMsK"),g=a("0lfv"),d=function(e){var t=e.containerWidth,a=e.containerHeight,n=e.setScale,c=e.flag,i=void 0===c?"PC":c,o=e.scale,l=Object(r["useState"])({width:1920,height:1080}),s=Object(f["a"])(l,2),u=s[0],h=u.width,p=u.height,d=s[1],w=function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;d({width:e,height:t})},v=Object(r["useMemo"])((function(){var e=h/t,n=p/a;if("H5"===i)return[e,e];switch(o){case"full":return[e,n];case"fit-width":return[e,e];case"fit-height":return[n,n];case"fit-height-scroll":return[n,n];case"none":default:return[1,1]}}),[h,p,t,a,i,o]),m=Object(f["a"])(v,2),b=m[0],y=m[1];return Object(r["useEffect"])((function(){return Object(g["i"])(1e3).then(w),window.addEventListener("resize",w),function(){window.removeEventListener("resize",w)}}),[]),Object(r["useEffect"])((function(){n(100*b)}),[b,n]),[b,y]},w=d,v=a("QLB0"),m=a.n(v),b=function(e){var t=e.containerWidth,a=e.containerHeight,n=e.setScale,c=e.flag,i=void 0===c?"PC":c,o=e.scale,l=w({containerWidth:t,containerHeight:a,setScale:n,flag:i,scale:o}),s=Object(f["a"])(l,2),u=s[0],g=s[1];return Object(r["useEffect"])((function(){var e=document.querySelector("html"),n=document.body,r=document.querySelector("#root"),c="";if(e)switch(o){case"full":case"fit-width":case"fit-height":case"none":e.style.overflow="hidden visible";break;case"fit-height-scroll":e.style.overflow="visible hidden";break}switch(o){case"full":c+="transform: scale(".concat(u,", ").concat(g,");");break;case"fit-width":c+="transform: scale(".concat(u,") translateY(-50%);position: relative;top:50%;");break;case"fit-height":c+="transform: scale(".concat(u,") translateX(-50%);position: relative;left:50%;");break;case"none":break;case"fit-height-scroll":c+="transform: scale(".concat(u,") translateX(-50%);position: relative;left:50%;");break}c+="transform-origin: left top;width: ".concat(t,"px; height: ").concat(a,"px"),n.style.cssText=c,r&&(r.style.overflow="visible")}),[i,u,g,o,t,a]),Object(p["a"])((function(){var e=document.querySelector("html"),t=document.body,a=document.querySelector("#root");e&&(e.style.overflow=""),t.style.cssText="transform: '';width: '';height: '';position:'';left:'';top:'';",a&&(a.style.overflow="")})),"H5"===i?{className:h()(m.a["page-preview-h5"],"page-preview-container"),style:{transform:"scale(".concat(u,") translateX(0)"),minHeight:"calc( 100vh / ".concat(u," )")},scale:u}:{className:h()(m.a["page-preview-pc"],"page-preview-container"),style:{transform:"scale(1)"},scale:u}},y=b,j=(a("R9oj"),a("ECub")),k=a("jfjY"),E=a.n(k),O=a("OnNq"),S=E()();function _(e){var t=e.flag,a=e.children,n=e.scale,r=Object(O["a"])((function(){return document.querySelector(".page-preview-container")}))||{},i=r.height,o=void 0===i?0:i;return S&&"PC"===t?c.a.createElement(j["a"],{description:"\u8bf7\u5728\u7535\u8111\u7aef\u4f7f\u7528",style:{position:"relative",top:"50%",transform:"translateY(-50%)"}}):S||"H5"!==t?"H5"===t?c.a.createElement("div",{className:h()("w-100 h-100 zero-scrollbar",m.a["page-preview-h5-wrapper"])},c.a.createElement("div",{className:"w-100",style:{height:o*n,overflow:"hidden"}},a)):c.a.createElement(c.a.Fragment,null,a):c.a.createElement(j["a"],{description:"\u8bf7\u5728\u624b\u673a\u7aef\u4f7f\u7528",style:{position:"relative",top:"50%",transform:"translateY(-50%)"}})}var H=Object(i["c"])((function(e){return{flag:e.global.screenData.config.flag.type}}),(function(){return{}}))(_),q=function(e){return{waterMark:e.global.screenData.config.attr.waterMark}},C=function(e){return{}},D=a("hq/+"),N=a.n(D),T=function(e){var t=e.waterMark;return c.a.createElement("div",{className:N.a["designer-water-mark"],style:{display:t?"block":"none"}})},x=Object(i["c"])(q,C)(T),M=function(e){return{width:e.global.screenData.config.style.width,height:e.global.screenData.config.style.height,flag:e.global.screenData.config.flag.type,scale:e.global.screenData.config.attr.scale}},Y=function(e){return{setScreenType:function(t){return e({type:"global/setScreenType",value:t})},setScale:function(t){return e({type:"global/setScale",value:t})}}},L=["scale"];function W(e){var t=e.setScreenType,a=e.width,i=e.height,f=e.setScale,u=e.flag,h=e.scale,p=y({containerWidth:a,containerHeight:i,setScale:f,flag:u,scale:h}),g=p.scale,d=Object(n["a"])(p,L);return Object(r["useEffect"])((function(){t("preview")}),[t]),Object(o["i"])((function(){})),c.a.createElement(H,{scale:g},c.a.createElement(s["a"],d),c.a.createElement(l["a"],null),c.a.createElement(x,null))}t["default"]=Object(i["c"])(M,Y)(W)}}]);