(self["webpackChunkcreate_chart"]=self["webpackChunkcreate_chart"]||[]).push([[2428],{97688:function(e){e.exports={"color-line-background":"color-line-background___17ZnO"}},4117:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return k}});var t=o(69610),i=o(54941),s=o(3372),r=o(81306),a=o(80017),h=o(67294),u=o(32075),d=o.n(u),c=o(18334),l=o.n(c),v=o(94184),p=o.n(v),f=o(97688),w=o.n(f),M=o(85893),m=function(e){(0,r.Z)(o,e);var n=(0,a.Z)(o);function o(e){var i;return(0,t.Z)(this,o),i=n.call(this,e),i.canvasRef=h.createRef(),i}return(0,i.Z)(o,[{key:"componentDidMount",value:function(){this.initCanvas(),this.resize=this.resize.bind(this),window.addEventListener("resize",this.resize)}},{key:"initCanvas",value:function(){var e=this.canvasRef.current,n=window.innerWidth,o=window.innerHeight;if(e.width=n,e.height=o,this.props.globalCompositeOperation){var t=e.getContext("2d");t.globalCompositeOperation=this.props.globalCompositeOperation}this.props.onCanvasInited&&this.props.onCanvasInited(e)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"resize",value:function(){var e=this.canvasRef.current,n=window.innerWidth,o=window.innerHeight;e.width=n,e.height=o,this.props.onResize&&this.props.onResize(n,o)}},{key:"handleMouseDown",value:function(e){this.props.onMouseDown&&this.props.onMouseDown(e)}},{key:"handleMouseMove",value:function(e){this.props.onMouseMove&&this.props.onMouseMove(e)}},{key:"handleMouseUp",value:function(e){this.props.onMouseUp&&this.props.onMouseUp(e)}},{key:"render",value:function(){return(0,M.jsx)("div",{className:"w-100 h-100",children:(0,M.jsx)("canvas",{ref:this.canvasRef,onMouseDown:this.handleMouseDown.bind(this),onMouseMove:this.handleMouseMove.bind(this),onMouseUp:this.handleMouseUp.bind(this),className:p()("w-100 h-100",w()["color-line-background"])})})}}]),o}(h.Component),y=function(e){(0,r.Z)(o,e);var n=(0,a.Z)(o);function o(e){var i;return(0,t.Z)(this,o),i=n.call(this,e),i._mousedown=!1,i.renderProton=i.renderProton.bind((0,s.Z)(i)),i}return(0,i.Z)(o,[{key:"handleCanvasInited",value:function(e){this.createProton(e),l().add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{l().remove(this.renderProton),this.proton.destroy()}catch(e){}}},{key:"createProton",value:function(e){var n=new(d()),o=new(d().Emitter);o.damping=.008,o.rate=new(d().Rate)(250),o.addInitialize(new(d().Mass)(1)),o.addInitialize(new(d().Radius)(4)),o.addInitialize(new(d().Velocity)(new(d().Span)(1.5),new(d().Span)(0,360),"polar")),this.mouseInfo={x:501.5,y:305},this.attractionBehaviour=new(d().Attraction)(this.mouseInfo,0,0),this.crossZoneBehaviour=new(d().CrossZone)(new(d().RectZone)(0,0,e.width,e.height),"cross"),o.addBehaviour(new(d().Color)("random")),o.addBehaviour(this.attractionBehaviour,this.crossZoneBehaviour),o.addBehaviour(new(d().RandomDrift)(10,10,.05)),o.p.x=e.width/2,o.p.y=e.height/2,o.emit("once"),n.addEmitter(o);var t=this.createRenderer(e);n.addRenderer(t),this.proton=n,this.renderer=t}},{key:"createRenderer",value:function(e){var n=e.getContext("2d"),o=new(d().CanvasRenderer)(e);return o.onProtonUpdate=function(){n.fillStyle="rgba(0, 0, 0, 0.02)",n.fillRect(0,0,e.width,e.height)},o.onParticleUpdate=function(e){n.beginPath(),n.strokeStyle=e.color,n.lineWidth=1,n.moveTo(e.old.p.x,e.old.p.y),n.lineTo(e.p.x,e.p.y),n.closePath(),n.stroke()},o}},{key:"handleResize",value:function(e,n){this.crossZoneBehaviour.reset(new(d().RectZone)(0,0,e,n),"cross"),this.renderer.resize(e,n)}},{key:"handleMouseDown",value:function(e){this._mousedown=!0,this.attractionBehaviour.reset(this.mouseInfo,10,1200),this.handleMouseMove(e)}},{key:"handleMouseMove",value:function(e){var n,o;this._mousedown&&(e.pageX||0===e.pageX?(n=e.pageX,o=e.pageY):(e.offsetX||0===e.offsetX)&&(n=e.offsetX,o=e.offsetY),this.mouseInfo.x=n,this.mouseInfo.y=o)}},{key:"handleMouseUp",value:function(e){this._mousedown=!1,this.attractionBehaviour.reset(this.mouseInfo,0,0)}},{key:"renderProton",value:function(){this.proton.update()}},{key:"render",value:function(){return(0,M.jsx)(m,{onMouseDown:this.handleMouseDown.bind(this),onMouseMove:this.handleMouseMove.bind(this),onMouseUp:this.handleMouseUp.bind(this),onCanvasInited:this.handleCanvasInited.bind(this),onResize:this.handleResize.bind(this)})}}]),o}(h.Component),k=y}}]);